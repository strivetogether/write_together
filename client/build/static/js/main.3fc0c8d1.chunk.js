(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{61:function(t,e,n){},79:function(t,e,n){},85:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n(0),i=n.n(s),r=n(26),o=n.n(r),c=(n(61),n(41),n(21)),l=n(9),u=n(10),h=n(12),d=n(11),b=n(8),p=n.n(b),j=(n(79),n(7)),x=n(19),f=n(88),m=n(90),g=n(87),O=function(t,e){return p.a.post("/api/auth/signup",{username:t,password:e}).then((function(t){return t.data})).catch((function(t){return t.response.data}))},v=function(t,e){return p.a.post("/api/auth/login",{username:t,password:e}).then((function(t){return t.data})).catch((function(t){return t.response.data}))},k=function(){return p.a.delete("/api/auth/logout").then((function(t){return t.data})).catch((function(t){return t.response.data}))},y=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={username:"",password:"",message:""},t.handleChange=function(e){var n=e.target,a=n.name,s=n.value;t.setState(Object(x.a)({},a,s))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.username,s=n.password;O(a,s).then((function(e){e.message?t.setState({message:e.message,username:"",password:""}):(t.props.setUser(e),t.props.history.push("/"))}))},t}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"Signup"}),Object(a.jsxs)(f.a,{onSubmit:this.handleSubmit,children:[Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"username",children:"Username: "}),Object(a.jsx)(f.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"})]}),Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"password",children:"Password: "}),Object(a.jsx)(f.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"})]}),this.state.message&&Object(a.jsx)(m.a,{variant:"danger",children:this.state.message}),Object(a.jsx)(g.a,{type:"submit",children:"Signup"})]})]})}}]),n}(s.Component),w=n(13),C=n(89),S=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).handleLogout=function(t){k().then((function(){t.setUser(null)}))},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(a.jsxs)(C.a,{className:"nav justify-content-end",bg:"primary",children:[Object(a.jsx)(C.a.Brand,{children:Object(a.jsx)(w.b,{to:"/",children:"Home"})}),this.props.user?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.a.Brand,{children:Object(a.jsx)(w.b,{to:"/explore",children:"Explore"})}),Object(a.jsx)(C.a.Brand,{children:Object(a.jsx)(w.b,{to:"/addblock",children:"Post your block"})}),Object(a.jsx)(C.a.Brand,{children:Object(a.jsx)(w.b,{to:"/dashboard",children:"Dashboard"})}),Object(a.jsx)(C.a.Brand,{children:Object(a.jsx)(w.b,{to:"/",onClick:function(){return t.handleLogout(t.props)},children:"Logout"})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.a.Brand,{children:Object(a.jsx)(w.b,{to:"/explore",children:"Explore"})}),Object(a.jsx)(C.a.Brand,{children:Object(a.jsx)(w.b,{to:"/signup",children:"Signup"})}),Object(a.jsx)(C.a.Brand,{children:Object(a.jsx)(w.b,{to:"/login",children:"Login"})})]})]})}}]),n}(s.Component),q=n(22),z=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={title:"",text:"",question:""},t.handleChange=function(e){var n=e.target.name,a=e.target.value;t.setState(Object(x.a)({},n,a))},t.handleSubmit=function(e){e.preventDefault(),console.log(t.state),p.a.post("/api/blocks",{title:t.state.title,text:t.state.text,question:t.state.question}).then((function(){t.setState({title:"",text:"",question:""}),t.props.getData()})).catch((function(t){return console.log(t)}))},t.handleTextChange=function(e,n){t.setState({text:e})},t.handleQuestionChange=function(e,n){t.setState({question:e})},t}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(f.a,{onSubmit:this.handleSubmit,children:[Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"title",children:"Title "}),Object(a.jsx)(f.a.Control,{type:"text",id:"title",name:"title",value:this.state.title,onChange:this.handleChange})]}),Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"text",children:"Your text so far "}),Object(a.jsx)(q.a,{apiKey:"1zhoozv76bbjst6175al8406kfzwiram3zp2yi9kcdv1sjcq",type:"text",name:"text",value:this.state.text,id:"text",initialValue:"<p>This is the initial content of the editor</p>",init:{min_height:300,fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt",menubar:!1,plugins:["advlist autolink lists link charmap print preview anchor","searchreplace visualblocks code fullscreen","paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |  fontsizeselect | help"},onEditorChange:this.handleTextChange})]}),Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"text",children:"Your question(s) and writing block(s) "}),Object(a.jsx)(q.a,{apiKey:"1zhoozv76bbjst6175al8406kfzwiram3zp2yi9kcdv1sjcq",type:"text",name:"question",value:this.state.question,id:"question",initialValue:"<p>This is the initial content of the editor</p>",init:{min_height:300,fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt",menubar:!1,plugins:["advlist autolink lists link charmap print preview anchor","searchreplace visualblocks code fullscreen","paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |  fontsizeselect | help"},onEditorChange:this.handleQuestionChange})]}),Object(a.jsx)(g.a,{type:"submit",children:"Add this block"})]})}}]),n}(s.Component),T=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={username:"",password:"",message:""},t.handleChange=function(e){var n=e.target,a=n.name,s=n.value;t.setState(Object(x.a)({},a,s))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.username,s=n.password;v(a,s).then((function(e){e.message?t.setState({message:e.message,username:"",password:""}):(t.props.setUser(e),t.props.history.push("/"))}))},t}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"Login"}),Object(a.jsxs)(f.a,{onSubmit:this.handleSubmit,children:[Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"username",children:"Username: "}),Object(a.jsx)(f.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"})]}),Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"password",children:"Password: "}),Object(a.jsx)(f.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"})]}),this.state.message&&Object(a.jsx)(m.a,{variant:"danger",children:this.state.message}),Object(a.jsx)(g.a,{type:"submit",children:"Login"})]})]})}}]),n}(s.Component),D=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Blockz"}),this.props.blocks.map((function(t){return Object(a.jsx)("div",{children:Object(a.jsx)("h2",{children:Object(a.jsx)(w.b,{to:"/blocks/".concat(t._id),children:t.title})})},t._id)}))]})}}]),n}(s.Component),L=n(17),U=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={block:null,error:null,title:"",text:"",question:"",ideas:"",ideaText:""},t.getBlock=function(){var e=t.props.match.params.id;console.log("ID LOG",e),p.a.get("/api/blocks/details/".concat(e)).then((function(e){console.log("This is the response",e),t.setState({title:e.data.title,text:e.data.text,question:e.data.question,block:e.data,ideas:e.data.ideas})})).catch((function(e){console.log(e.response),404===e.response.status&&t.setState({error:"Sorry - Block Not found \ud83e\udd37\u200d\u2640\ufe0f \ud83e\udd37\u200d\u2642\ufe0f"})}))},t.componentDidMount=function(){t.getBlock()},t.handleSubmit=function(e){e.preventDefault();var n=t.props.match.params.id;p.a.post("/api/blocks/details/".concat(n,"/addidea"),{text:t.state.ideaText}).then((function(){t.setState({ideaText:""}),t.getBlock()})).catch((function(t){return console.log(t)}))},t.handleIdeaTextChange=function(e,n){t.setState({ideaText:e})},t.handleGoToEdit=function(e){t.props.history.push("/blocks/".concat(t.props.match.params.id,"/editblock"))},t}return Object(u.a)(n,[{key:"render",value:function(){if(this.state.error)return Object(a.jsx)("h1",{children:this.state.error});if(!this.state.block)return Object(a.jsx)("h1",{children:"Loading..."});var t=!1,e=this.props.user,n=this.state.block.owner;return e&&e._id===n&&(t=!0),Object(a.jsxs)("div",{children:[Object(a.jsxs)("section",{className:"blockdetails",children:[Object(a.jsx)(L.b,{content:this.state.title}),Object(a.jsx)(L.b,{content:this.state.text}),Object(a.jsx)(L.b,{content:this.state.question}),t&&Object(a.jsx)(g.a,{onClick:this.handleGoToEdit,children:"Edit"})]}),this.state.block.ideas.map((function(t){return Object(a.jsx)("div",{children:Object(a.jsxs)("h3",{children:[Object(a.jsx)(L.a,{content:t.owner.username}),Object(a.jsx)(L.a,{content:t.text}),Object(a.jsx)(w.b,{to:"/ideas/".concat(t._id),children:"Read more..."}),t.creationDate.split("T")[0].split("-").reduce((function(t,e){return e+"/"+t}))]})},t._id)})),Object(a.jsxs)(f.a,{onSubmit:this.handleSubmit,children:[Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"text",children:"Write an idea: "}),Object(a.jsx)(q.a,{apiKey:"1zhoozv76bbjst6175al8406kfzwiram3zp2yi9kcdv1sjcq",type:"text",name:"ideaText",value:this.state.ideaText,id:"ideaText",initialValue:"<p>This is the initial content of the editor</p>",init:{min_height:300,fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt",menubar:!1,plugins:["advlist autolink lists link charmap print preview anchor","searchreplace visualblocks code fullscreen","paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |  fontsizeselect | help"},onEditorChange:this.handleIdeaTextChange})]}),Object(a.jsx)(g.a,{type:"submit",children:"Add an Idea"})]})]})}}]),n}(s.Component),B=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={title:"",text:"",question:""},t.handleChange=function(e){var n=e.target.name,a=e.target.value;t.setState(Object(x.a)({},n,a))},t.getBlock=function(){var e=t.props.match.params.id;console.log("ID LOG",e),p.a.get("/api/blocks/details/".concat(e)).then((function(e){console.log("This is the response",e),t.setState({title:e.data.title,text:e.data.text,question:e.data.question})})).catch((function(e){console.log(e.response),404===e.response.status&&t.setState({error:"Sorry - Block Not found \ud83e\udd37\u200d\u2640\ufe0f \ud83e\udd37\u200d\u2642\ufe0f"})}))},t.handleUpdateBlockSubmit=function(e){e.preventDefault();var n=t.props.match.params.id;p.a.put("/api/blocks/".concat(n,"/editblock"),{title:t.state.title,text:t.state.text,question:t.state.question}).then((function(e){t.setState({block:e.data,title:e.data.title,question:e.question,description:e.data.question})})).then((function(){t.props.history.push("/blocks/".concat(n,"/"))})).catch((function(t){console.log(t)}))},t.handleTextChange=function(e,n){t.setState({text:e})},t.handleQuestionChange=function(e,n){t.setState({question:e})},t.componentDidMount=function(){t.getBlock()},t}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(f.a,{onSubmit:this.handleUpdateBlockSubmit,children:[Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"title",children:"Title "}),Object(a.jsx)(f.a.Control,{type:"text",id:"title",name:"title",value:this.state.title,onChange:this.handleChange})]}),Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"text",children:"Your text so far "}),Object(a.jsx)(q.a,{apiKey:"1zhoozv76bbjst6175al8406kfzwiram3zp2yi9kcdv1sjcq",type:"text",name:"text",value:this.state.text,id:"text",initialValue:"",init:{min_height:300,fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt",menubar:!1,plugins:["advlist autolink lists link charmap print preview anchor","searchreplace visualblocks code fullscreen","paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |  fontsizeselect | help"},onEditorChange:this.handleTextChange})]}),Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"text",children:"Your question(s) and writing block(s) "}),Object(a.jsx)(q.a,{apiKey:"1zhoozv76bbjst6175al8406kfzwiram3zp2yi9kcdv1sjcq",type:"text",name:"question",value:this.state.question,id:"question",initialValue:"",init:{min_height:300,fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt",menubar:!1,plugins:["advlist autolink lists link charmap print preview anchor","searchreplace visualblocks code fullscreen","paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat |  fontsizeselect | help"},onEditorChange:this.handleQuestionChange})]}),Object(a.jsx)(g.a,{type:"submit",children:"Update this block"})]})}}]),n}(s.Component),F=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={idea:null,error:null,text:"",comments:"",owner:""},t.getIdea=function(){var e=t.props.match.params.id;p.a.get("/api/ideas/details/".concat(e)).then((function(e){console.log("This is the response",e),t.setState({idea:e.data,text:e.data.text,comments:e.data.comments,owner:e.data.owner})})).catch((function(e){404===e.response.status&&t.setState({error:"Sorry - Idea Not found \ud83e\udd37\u200d\u2640\ufe0f \ud83e\udd37\u200d\u2642\ufe0f"})}))},t.componentDidMount=function(){t.getIdea()},t.deleteIdea=function(){var e=t.props.match.params.id;p.a.delete("/api/ideas/delete/".concat(e)).then((function(){t.props.history.push("/explore")})).catch((function(e){404===e.response.status&&t.setState({error:"Something went wrong"})}))},t}return Object(u.a)(n,[{key:"render",value:function(){if(this.state.error)return Object(a.jsx)("h1",{children:this.state.error});if(!this.state.idea)return Object(a.jsx)("h1",{children:"Loading..."});var t=!1;return this.props.user._id===this.state.owner._id&&(t=!0),console.log("user is",this.props.user._id),console.log("owner is",this.state.owner._id),Object(a.jsxs)("div",{children:[Object(a.jsxs)("h3",{children:[Object(a.jsx)(L.a,{content:this.state.owner.username}),Object(a.jsx)(L.a,{content:this.state.text})]}),t&&Object(a.jsx)(g.a,{variant:"danger",onClick:this.deleteIdea,children:"Delete"})]})}}]),n}(s.Component),_=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={user:t.props.user,blocks:[]},t.setUser=function(e){t.setState({user:e})},t.getData=function(){p.a.get("/api/blocks").then((function(e){t.setState({blocks:e.data})})).catch((function(t){return console.log(t)}))},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var t=this;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(S,{user:this.state.user,setUser:this.setUser}),Object(a.jsx)(j.b,{exact:!0,path:"/addblock",render:function(e){return t.state.user?Object(a.jsx)(z,Object(c.a)({getData:t.getData},e)):Object(a.jsx)(j.a,{to:"/signup"})}}),Object(a.jsx)(j.b,{exact:!0,path:"/blockdetails",render:function(t){return Object(a.jsx)(U,Object(c.a)({},t))}}),Object(a.jsx)(j.b,{exact:!0,path:"/signup",render:function(e){return Object(a.jsx)(y,Object(c.a)({setUser:t.setUser},e))}}),Object(a.jsx)(j.b,{exact:!0,path:"/login",render:function(e){return Object(a.jsx)(T,Object(c.a)({setUser:t.setUser},e))}}),Object(a.jsx)(j.b,{exact:!0,path:"/explore",render:function(e){return Object(a.jsx)(D,Object(c.a)({setUser:t.setUser,blocks:t.state.blocks},e))}}),Object(a.jsx)(j.b,{exact:!0,path:"/blocks/:id",render:function(e){return Object(a.jsx)(U,Object(c.a)({setUser:t.setUser,blocks:t.state.blocks,ideas:t.state.ideas,user:t.state.user,getData:t.getData},e))}}),Object(a.jsx)(j.b,{exact:!0,path:"/blocks/:id/editblock",render:function(e){return t.state.user?Object(a.jsx)(B,Object(c.a)({setUser:t.setUser,blocks:t.state.blocks,ideas:t.state.ideas,getData:t.getData},e)):Object(a.jsx)(j.a,{to:"/signup"})}}),Object(a.jsx)(j.b,{exact:!0,path:"/ideas/:id",render:function(e){return Object(a.jsx)(F,Object(c.a)({user:t.state.user,setUser:t.setUser},e))}})]})}}]),n}(i.a.Component),G=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),a(t),s(t),i(t),r(t)}))};p.a.get("/api/auth/loggedin").then((function(t){var e=t.data;o.a.render(Object(a.jsx)(w.a,{children:Object(a.jsx)(_,{user:e})}),document.getElementById("root"))})),G()}},[[85,1,2]]]);
//# sourceMappingURL=main.3fc0c8d1.chunk.js.map